---
import ThemeSwitcher from '../components/ThemeSwitcher.astro';
import BackToTop from '../components/BackToTop.astro';
import Logo from '../components/Logo.astro';
import '../styles/callouts.css';
import '../styles/fonts.css';

export interface Props {
  title: string;
  description?: string;
}

const { title, description = "AI-utbildning för lärare och elever" } = Astro.props;
---

<!DOCTYPE html>
<html lang="sv" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <script is:inline>
      const theme = (() => {
        if (typeof localStorage !== 'undefined' && localStorage.getItem('theme')) {
          return localStorage.getItem('theme');
        }
        if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
          return 'dark';
        }
        return 'light';
      })();

      if (theme === 'light') {
        document.documentElement.classList.remove('dark');
      } else {
        document.documentElement.classList.add('dark');
      }
    </script>
    <meta name="description" content={description} />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="/favicon.png" />
    <title>{`${title} | ai.summor.se`}</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
      :root {
        --background: 0 0% 98%;
        --foreground: 240 10% 3.9%;
        --card: 0 0% 100%;
        --card-foreground: 240 10% 3.9%;
        --popover: 0 0% 100%;
        --popover-foreground: 240 10% 3.9%;
        --primary: 142 76% 36%;
        --primary-foreground: 355.7 100% 97.3%;
        --secondary: 240 4.8% 95.9%;
        --secondary-foreground: 240 5.9% 10%;
        --muted: 240 4.8% 95.9%;
        --muted-foreground: 240 3.8% 46.1%;
        --accent: 142 69% 58%;
        --accent-foreground: 240 5.9% 10%;
        --destructive: 0 84.2% 60.2%;
        --destructive-foreground: 0 0% 98%;
        --border: 240 5.9% 90%;
        --input: 240 5.9% 90%;
        --ring: 142 76% 36%;
        --radius: 0.5rem;
      }
 
      .dark {
        --background: 240 6% 10%;
        --foreground: 0 0% 98%;
        --card: 240 5% 12%;
        --card-foreground: 0 0% 98%;
        --popover: 240 10% 3.9%;
        --popover-foreground: 0 0% 98%;
        --primary: 142 69% 58%;
        --primary-foreground: 240 10% 3.9%;
        --secondary: 240 3.7% 15.9%;
        --secondary-foreground: 0 0% 98%;
        --muted: 240 3.7% 15.9%;
        --muted-foreground: 240 5% 64.9%;
        --accent: 142 76% 36%;
        --accent-foreground: 0 0% 98%;
        --destructive: 0 62.8% 30.6%;
        --destructive-foreground: 0 0% 98%;
        --border: 240 3.7% 15.9%;
        --input: 240 3.7% 15.9%;
      }
    </style>
  </head>
  <body class="bg-background dark:bg-dark-background text-foreground dark:text-dark-foreground font-sans transition-colors duration-300 antialiased">
    <header class="sticky top-0 z-40 w-full border-b border-border dark:border-dark-border bg-background/95 dark:bg-dark-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 dark:supports-[backdrop-filter]:bg-dark-background/60">
      <div class="max-w-6xl mx-auto px-4 py-4 grid grid-cols-3 items-center">
        <!-- Left: Logo -->
        <div class="justify-self-start">
          <div class="flex items-center gap-3 rounded-lg border bg-card px-3 py-2">
            <Logo />
            <div class="hidden md:flex items-baseline">
              <a href="/" class="font-excalifont text-xl text-primary hover:underline">ai.</a>
              <a href="https://summor.se" class="font-excalifont text-xl text-foreground hover:underline">summor.se</a>
            </div>
          </div>
        </div>
        
        <!-- Center: Navigation -->
        <nav class="hidden md:flex items-center space-x-6 justify-self-center">
          <a href="/" class="text-sm font-medium text-muted-foreground hover:text-primary transition-colors">Hem</a>
          <a href="/kurs" class="text-sm font-medium text-muted-foreground hover:text-primary transition-colors">Kurs</a>
          <a href="/verktyg" class="text-sm font-medium text-muted-foreground hover:text-primary transition-colors">Verktyg</a>
          <!-- <a href="/blogg" class="text-sm font-medium text-muted-foreground hover:text-primary transition-colors">Blogg</a> -->
        </nav>

        <!-- Right: Theme Switcher -->
        <div class="justify-self-end">
          <ThemeSwitcher />
        </div>
      </div>
    </header>

    <main class="min-h-screen">
      <slot />
    </main>

    <footer class="border-t border-border dark:border-dark-border bg-muted/50 dark:bg-dark-muted/50 mt-12">
      <div class="max-w-6xl mx-auto px-4 py-8">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <div class="flex items-start gap-3">
            <Logo />
            <div>
              <h3 class="text-lg font-excalifont mb-2 text-foreground dark:text-dark-foreground">ai.summor.se</h3>
              <p class="text-sm text-muted-foreground dark:text-dark-muted-foreground font-sans">
                Artificiell intelligens för gymnasiet. Tillgängligt både för elever och lärare.
              </p>
            </div>
          </div>
          
          <div>
            <h4 class="font-medium mb-4">Snabblänkar</h4>
            <ul class="space-y-2 text-sm">
              <li><a href="/" class="text-muted-foreground dark:text-dark-muted-foreground hover:text-primary transition-colors">Hem</a></li>
              <li><a href="/kurs" class="text-muted-foreground dark:text-dark-muted-foreground hover:text-primary transition-colors">Kurs</a></li>
              <li><a href="/verktyg" class="text-muted-foreground dark:text-dark-muted-foreground hover:text-primary transition-colors">Verktyg</a></li>
            </ul>
          </div>
          
          <div>
            <h4 class="font-medium mb-4">Kontakt</h4>
            <p class="text-sm text-muted-foreground dark:text-dark-muted-foreground">
              Del av <a href="https://summor.se" class="text-primary hover:text-accent transition-colors">Summor.se</a>
            </p>
          </div>
        </div>
        
        <div class="border-t border-border dark:border-dark-border mt-8 pt-8 text-center text-sm text-muted-foreground dark:text-dark-muted-foreground font-sans">
          <p>&copy; 2024 summor.se. Alla rättigheter förbehållna.</p>
        </div>
      </div>
    </footer>

    <BackToTop />
  </body>
</html>
